== Conception de modèles complexes

La plupart des modèles possède deux niveaux : le haut niveau qui est celui de l’agent modèle et le bas niveau qui est celui des composants d’une organisation de l’agent modèle. MAGéo offre la possibilité de définir d’autres niveaux, mais le modèle devient alors plus complexe et une bonne réflexion conceptuelle doit être menée pour trouver la meilleure structure.  

=== La difficulté de conception des modèles multi-niveaux 

Pour définir des modèles multiniveau, il faut bien faire la différence entre la classe qui est une notion abstraite (et relève du niveau conceptuel) et l’instance (ou réalisation) qui est la concrétisation physique d’une entité d’une certaine classe. En effet, au niveau conceptuel, une organisation est en fait une *classe d’organisation* qui peut donner au niveau physique une instance unique ou plusieurs instances selon sa position dans le modèle conceptuel. 

Par exemple, si le modèle est composé de 2 niveaux, au premier niveau, nous n’avons qu’un agent $$M$$ unique qui représente le modèle dans sa globalité. On approfondit celui-ci en insérant une organisation unique $$O$$. Jusqu’ici, tout va bien, car chaque classe (d’agent ou d’organisation) donne une seule instance dans le modèle physique, il y a donc une quasi-identité entre les niveaux conceptuel et physique. Mais l’organisation $$O$$ est composée d’une classe-agent $$A$$, qui définit au niveau physique plusieurs instances $$A_i$$ d’agents formant le second niveau. Si l’on approfondit maintenant la classe-agent $$A$$ par une nouvelle classe d’organisation $$P$$, cela signifie qu’au niveau physique on instancie dans chaque agent $$A_i$$ une instance d’organisation $$P_i$$ de la classe $$P$$. Cette organisation est donc générique et son paramétrage devra donc différencier ses différentes instances. Si les structures internes de MAGéo permettant de traiter les organisations génériques sont d’ores et déjà développées, l’interface ne permet pas encore de les utiliser dans leur plus grande généralité.

=== La distinction entre modèle multicouches et modèle multi-niveaux

Le fait de disposer de données géographiques découpées selon plusieurs échelles ne signifie pas qu’il faille forcément leur associer un modèle multi-niveaux. Prenons l’exemple d’une hiérarchie de découpage administratif français en régions et départements. On pourrait penser qu’un modèle à trois niveaux serait la meilleure structure ontologique adaptée à ce cas. Néanmoins la structuration des données dans un Système d’Information Géographique (SIG) est un peu différente car elle procède par couches (layers, coverages, etc.) et non par emboitements de niveaux. Ainsi, partant de deux couches géographiques représentant la carte des Etats et la carte des régions, il est plus aisé de définir un modèle multicouches formé de deux organisations spatiales de même niveau correspondant à ces 2 couches et de les relier par une relation de localisation par inclusion spatiale : les régions seront ainsi localisées dans les états. Cette relation permet de définir les liens d’emboitement entre les différentes entités spatiales, comme on pourrait le faire avec un modèle multi-niveaux, mais en n’utilisant que 2 instances d’organisation au lieu de 23 (une organisant l’état en régions et 22 autres organisant chaque région en départements).

image:/assets/image002.png[alt="Modèles multicouches et modèle multi-niveaux"]
